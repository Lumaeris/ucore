---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: vedaos-hardened
description: This is my personal OS image.
base-image: ghcr.io/secureblue/silverblue-main-hardened
image-version: latest
alt-tags:
  - amd

modules:
  - type: dnf
    repos:
      cleanup: true
      files:
        - https://repository.mullvad.net/rpm/stable/mullvad.repo
        - https://pkgs.tailscale.com/stable/fedora/tailscale.repo
    optfix:
      - "Mullvad VPN"
    install:
      packages:
        - mullvad-vpn
        - tailscale
        - input-remapper

  - type: dnf
    repos:
      cleanup: true
      copr:
        - ublue-os/staging
    install:
      install-weak-deps: false
      packages:
        - gnome-shell-extension-caffeine
        - gnome-shell-extension-logo-menu
        - gnome-shell-extension-appindicator
        - gnome-shell-extension-blur-my-shell
        - gnome-shell-extension-tailscale-gnome-qs

  - type: systemd
    system:
      enabled:
        - mullvad-daemon.service
        - tailscaled.service

  - type: signing
